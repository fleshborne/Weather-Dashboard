<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Weather Dashboard</title>
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
      integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link type="stylesheet" href="Assets/CSS/styles.css" />
  </head>

  <body>
    <div class="card text-center text-white bg-dark mb-3">
      <div class="card-header">Weather Dashboard</div>
    </div>
    <!-- an input field for city searching -->
    <form class="userSearch" style="margin:auto;max-width:300px;float: left;">
       Search for a City:
        <input type="text" id="citySearch" placeholder="Search.." name="search">
        <button id="searchBtn" type="submit"><i class="fa fa-search"></i></button>
    <script
      src="https://code.jquery.com/jquery-3.5.1.min.js"
      integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
      crossorigin="anonymous"
    ></script>
    <script type="text/javascript">
      // grab users input and store it in a variable (stateSearch)
    // api key and query url
  
    $("#searchBtn").on("click", function (name){
    event.preventDefault();
    var APIKey = "096c47eea3eda324326ea249c70207ee";    
    var name = $("#citySearch").val();  
    var queryURL = `https://api.openweathermap.org/data/2.5/weather?q=${name}&appid=${APIKey}&units=imperial`;
  
    $.ajax({
            url: queryURL,
            method: 'GET',
        }).then(function (response) {
            // create a function that gets the current weather (current weather data call)
            console.log(response);
            var city = response.name;
            var temp = response.main.temp;
            var humidity = response.main.humidity;
            var windSpeed = response.wind.speed;         
        // dynamically generate weather div
            var bodyEl = $("body")
            var weatherDiv = $("<div class='weather'>");
            bodyEl.append(weatherDiv);
            var pOne = $("<p>").text('City: ' + city);
            pOne.appendTo(weatherDiv);    

        // inside of that you're going to generate the city, date, temperature, humidity, wind speed

        })

    });
    
  
    


    
    
    // call the getUVIndex function to generate the UV index element

    // create 5DayForecast function
    // inculde the dates, tehmp, humidity
    // dynamically generate using js
    // generate a card which include <p>,<img>,<h2>,<icon>

    // store users search in localstorage
    // on page load, grab from local storage - grab the most recent search
    // if the users search exists in local storage dont append a new one, get from local storage
    //  in the getCurrentWeather function, check local storage for previous searches

    
    </script>
  </body>
</html>
